{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// написання функції для HTTP-запитів\n\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';  // Це має бути правильно\n\nconst API_KEY = '49399736-5639b789053676a95c3f2e38d';  // Перевірити, чи ключ правильний\n\nexport default function httpRequest(userRequest) {\n  const paramsForHttp = new URLSearchParams({\n    q: userRequest, \n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return axios.get(`?${paramsForHttp}`)\n    .then(response => response.data.hits)  // Перевіряємо, чи відповідає структура даних\n    .catch(error => {\n      throw error;  // Повертати повну помилку, щоб вона була доступною в `index.js`\n    });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport httpRequest from './js/pixabay-api';\n// import { renderGallery, clearGallery } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', request);\n\nfunction request(event) {\n  event.preventDefault();\n  const userRequest = event.currentTarget.elements.user_request.value.trim();\n\n  if (!userRequest) {\n    iziToast.warning({\n      title: 'WARNING',\n      message: 'Please enter a search term.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  httpRequest(userRequest)\n    .then(images => {\n      hideLoader();\n      if (images.length === 0) {\n        iziToast.error({\n          title: 'ERROR',\n          message: 'No images found. Try another search term!',\n          position: 'topRight',\n        });\n        return;\n      }\n      renderGallery(images);\n    })\n    .catch(error => {\n      hideLoader();\n      iziToast.error({\n        title: 'ERROR',\n        message: `Error fetching images: ${error.message}`,\n        position: 'topRight',\n      });\n    });\n\n  event.target.reset();\n}\n\nfunction showLoader() {\n  refs.loader.classList.remove('visually-hidden');  // Показуємо loader\n}\n\nfunction hideLoader() {\n  refs.loader.classList.add('visually-hidden');  // Ховаємо loader\n}"],"names":["axios","API_KEY","httpRequest","userRequest","paramsForHttp","response","error","refs","request","event","iziToast","showLoader","images","hideLoader"],"mappings":"6vBAIAA,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAU,qCAED,SAASC,EAAYC,EAAa,CAC/C,MAAMC,EAAgB,IAAI,gBAAgB,CACxC,EAAGD,EACH,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAOD,EAAM,IAAI,IAAII,CAAa,EAAE,EACjC,KAAKC,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACd,MAAMA,CACZ,CAAK,CACL,CCjBA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAO,EAE5C,SAASA,EAAQC,EAAO,CACtBA,EAAM,eAAc,EACpB,MAAMN,EAAcM,EAAM,cAAc,SAAS,aAAa,MAAM,OAEpE,GAAI,CAACN,EAAa,CAChBO,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,eACAC,IAEAT,EAAYC,CAAW,EACpB,KAAKS,GAAU,CAEd,GADAC,IACID,EAAO,SAAW,EAAG,CACvBF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4CACT,SAAU,UACpB,CAAS,EACD,MACD,CACD,cAAcE,CAAM,CAC1B,CAAK,EACA,MAAMN,GAAS,CACdO,IACAH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0BAA0BJ,EAAM,OAAO,GAChD,SAAU,UAClB,CAAO,CACP,CAAK,EAEHG,EAAM,OAAO,OACf,CAEA,SAASE,GAAa,CACpBJ,EAAK,OAAO,UAAU,OAAO,iBAAiB,CAChD,CAEA,SAASM,GAAa,CACpBN,EAAK,OAAO,UAAU,IAAI,iBAAiB,CAC7C"}